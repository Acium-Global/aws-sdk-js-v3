"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getWebSocketPlugin = void 0;
const middleware_endpoint_1 = require("./middleware-endpoint");
const middleware_session_id_1 = require("./middleware-session-id");
const getWebSocketPlugin = (config) => ({
    applyToStack: (clientStack) => {
        clientStack.addRelativeTo(middleware_endpoint_1.websocketURLMiddleware(config), middleware_endpoint_1.websocketURLMiddlewareOptions);
        clientStack.add(middleware_session_id_1.injectSessionIdMiddleware(config), middleware_session_id_1.injectSessionIdMiddlewareOptions);
    },
});
exports.getWebSocketPlugin = getWebSocketPlugin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGx1Z2luLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3BsdWdpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFHQSwrREFBOEY7QUFDOUYsbUVBQXNHO0FBRS9GLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxNQUErQixFQUF1QixFQUFFLENBQUMsQ0FBQztJQUMzRixZQUFZLEVBQUUsQ0FBQyxXQUFXLEVBQUUsRUFBRTtRQUM1QixXQUFXLENBQUMsYUFBYSxDQUFDLDRDQUFzQixDQUFDLE1BQU0sQ0FBQyxFQUFFLG1EQUE2QixDQUFDLENBQUM7UUFDekYsV0FBVyxDQUFDLEdBQUcsQ0FBQyxpREFBeUIsQ0FBQyxNQUFNLENBQUMsRUFBRSx3REFBZ0MsQ0FBQyxDQUFDO0lBQ3ZGLENBQUM7Q0FDRixDQUFDLENBQUM7QUFMVSxRQUFBLGtCQUFrQixzQkFLNUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQbHVnZ2FibGUgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgV2ViU29ja2V0UmVzb2x2ZWRDb25maWcgfSBmcm9tIFwiLi9jb25maWd1cmF0aW9uXCI7XG5pbXBvcnQgeyB3ZWJzb2NrZXRVUkxNaWRkbGV3YXJlLCB3ZWJzb2NrZXRVUkxNaWRkbGV3YXJlT3B0aW9ucyB9IGZyb20gXCIuL21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGluamVjdFNlc3Npb25JZE1pZGRsZXdhcmUsIGluamVjdFNlc3Npb25JZE1pZGRsZXdhcmVPcHRpb25zIH0gZnJvbSBcIi4vbWlkZGxld2FyZS1zZXNzaW9uLWlkXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRXZWJTb2NrZXRQbHVnaW4gPSAoY29uZmlnOiBXZWJTb2NrZXRSZXNvbHZlZENvbmZpZyk6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGRSZWxhdGl2ZVRvKHdlYnNvY2tldFVSTE1pZGRsZXdhcmUoY29uZmlnKSwgd2Vic29ja2V0VVJMTWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIGNsaWVudFN0YWNrLmFkZChpbmplY3RTZXNzaW9uSWRNaWRkbGV3YXJlKGNvbmZpZyksIGluamVjdFNlc3Npb25JZE1pZGRsZXdhcmVPcHRpb25zKTtcbiAgfSxcbn0pO1xuIl19